<!doctype html>
<html>

<head>
  <title>physics-system</title>
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <!-- <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script> -->
  <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.js"></script>
  <!-- <script src="index.js"></script> -->
  <script>
    document.addEventListener('DOMContentLoaded', DOMContentLoaded);
    function DOMContentLoaded(){
      const scene = document.querySelector("a-scene");
      const ball = createBall(scene);

      scene.appendChild(ball);
    }
    function createBall(parent) {
      const v = new THREE.Vector3(0, 2, -10);
      const ball = document.createElement("a-sphere");
      ball.setAttribute("id", "ball");
      ball.setAttribute("color", "navy");
      ball.setAttribute("position", "0 0.5 -3");
      ball.setAttribute("radius", "0.2");
      ball.setAttribute("dynamic-body", {shape: "auto"});
      ball.setAttribute("velocity", v);
      return ball;
    }
    // setTimeout(()=>{
    //   DOMContentLoaded();
    // }, 1000);
    // function DOMContentLoaded(){
    //     console.log("DOMContentLoaded");
    //     const ball = document.querySelector("#ball");
    //     const v = new THREE.Vector3(0, 2, -20);
    //     ball.setAttribute("velocity", v);
    // }
  </script>
</head>

<body>
  <a-scene physics="debug: false">
      <a-assets>
        <a-asset-item id="pin" src="model/bowling_pin/scene.gltf"></a-asset-item>
      </a-assets>
      <a-camera position="0 0.2 0" fov="30" far="100" zoom="1.2"></a-camera>
      <a-plane color="#C1832B" width="3" height="25" position="0 -1 -15" rotation="-90 0 0" static-body></a-plane>

      <a-entity gltf-model="#pin" dynamic-body="shape: auto; linearDamping: 0.01; angularDamping: 0.01; mass: 5" scale="2 2 2" position="0 0 -18"></a-entity>
      <a-entity gltf-model="#pin" dynamic-body="shape: auto; linearDamping: 0.01; angularDamping: 0.01; mass: 5" scale="2 2 2" position="0.2 0 -18.2"></a-entity>
      <a-entity gltf-model="#pin" dynamic-body="shape: auto; linearDamping: 0.01; angularDamping: 0.01; mass: 5" scale="2 2 2" position="-0.2 0 -18.2"></a-entity>

      <!-- <a-sphere id="ball" color="navy" dynamic-body="shape: auto; linearDamping: 0.01; angularDamping: 0.01; mass: 5" position="0 0.5 -3" radius="0.2"></a-sphere> -->
  </a-scene>
  <script>
    // DOMContentLoaded();
  </script>
</body>

</html>